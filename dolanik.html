<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Görünmez İp: Kuantum Sanatı</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #050510; 
            font-family: 'Courier New', Courier, monospace;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            user-select: none;
            touch-action: none; 
        }
        #ui-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 250px;
            z-index: 100;
            pointer-events: none; 
        }
        h1 { font-size: 16px; margin: 0 0 10px 0; color: #00d2ff; text-shadow: 0 0 10px #00d2ff; }
        p { font-size: 11px; line-height: 1.4; color: #ccc; margin: 5px 0; }
        .status { margin-top: 10px; font-weight: bold; color: #ff00de; font-size: 12px; }
        svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }
        #quantum-string {
            stroke: url(#gradient);
            stroke-width: 4;
            stroke-linecap: round;
            fill: none;
            filter: drop-shadow(0 0 8px rgba(0, 210, 255, 0.8));
            transition: stroke 0.5s;
        }
        .particle {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            position: absolute;
            cursor: grab;
            z-index: 10;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 20px;
            touch-action: none; 
            transition: transform 0.2s, background-color 0.5s, box-shadow 0.5s;
            user-select: none;
        }
        .particle:active { cursor: grabbing; transform: scale(1.1); }
        .superposition {
            background: radial-gradient(circle, #fff, #333);
            animation: quantumFlux 0.1s infinite;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            color: transparent;
        }
        .spin-up {
            background: radial-gradient(circle, #00d2ff, #005f73);
            box-shadow: 0 0 30px #00d2ff;
            color: white;
            border: 2px solid white;
        }
        .spin-down {
            background: radial-gradient(circle, #ff0055, #75002b);
            box-shadow: 0 0 30px #ff0055;
            color: white;
            border: 2px solid white;
        }
        #reset-btn {
            position: absolute;
            bottom: 30px;
            padding: 10px 25px;
            background: transparent;
            border: 2px solid #00d2ff;
            color: #00d2ff;
            font-family: inherit;
            font-size: 14px;
            cursor: pointer;
            z-index: 100;
            border-radius: 30px;
            transition: 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        #reset-btn:hover {
            background: #00d2ff;
            color: #000;
            box-shadow: 0 0 20px #00d2ff;
        }
        @keyframes quantumFlux {
            0% { transform: scale(1) translate(1px, 1px); opacity: 0.8; }
            50% { transform: scale(1.02) translate(-1px, -1px); opacity: 1; }
            100% { transform: scale(1) translate(0, 0); opacity: 0.9; }
        }
    </style>
</head>
<body>
    <div id="ui-panel">
        <h1>Kuantum Dolanıklık</h1>
        <p>İki parçacık birbirine "görünmez bir iple" bağlıdır.</p>
        <p>Sürükle ve mesafeyi test et.</p>
        <p>Gözlemlemek için parçacıklardan birine dokun.</p>
        <div class="status" id="status-text">DURUM: BELİRSİZ</div>
    </div>
    <svg>
        <defs>
            <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#00d2ff;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#ff0055;stop-opacity:1" />
            </linearGradient>
        </defs>
        <path id="quantum-string" d="" />
    </svg>
    <div id="p1" class="particle superposition" style="top: 50%; left: 25%;">?</div>
    <div id="p2" class="particle superposition" style="top: 50%; left: 65%;">?</div>
    <button id="reset-btn">Yeniden Dolanıkla</button>
    <script>
        const p1 = document.getElementById('p1');
        const p2 = document.getElementById('p2');
        const path = document.getElementById('quantum-string');
        const statusText = document.getElementById('status-text');
        const resetBtn = document.getElementById('reset-btn');
        let isEntangled = true; 
        function updateString() {
            const r1 = p1.getBoundingClientRect();
            const r2 = p2.getBoundingClientRect();
            const x1 = r1.left + r1.width / 2;
            const y1 = r1.top + r1.height / 2;
            const x2 = r2.left + r2.width / 2;
            const y2 = r2.top + r2.height / 2;
            const midX = (x1 + x2) / 2;
            const midY = (y1 + y2) / 2;
            const tension = isEntangled ? (Math.random() * 40 - 20) : 0;
            const d = `M ${x1} ${y1} Q ${midX} ${midY + tension} ${x2} ${y2}`;
            path.setAttribute('d', d);
            requestAnimationFrame(updateString);
        }
        updateString();
        function makeDraggable(el) {
            let offsetX, offsetY;
            let active = false;
            const start = (e) => {
                active = true;
                const clientX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
                const clientY = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;
                const rect = el.getBoundingClientRect();
                offsetX = clientX - rect.left;
                offsetY = clientY - rect.top;
            };
            const move = (e) => {
                if (!active) return;
                e.preventDefault(); 
                const clientX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
                const clientY = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;
                el.style.left = `${clientX - offsetX}px`;
                el.style.top = `${clientY - offsetY}px`;
            };
            const end = () => {
                active = false;
            };
            el.addEventListener('mousedown', start);
            window.addEventListener('mousemove', move);
            window.addEventListener('mouseup', end);
            el.addEventListener('touchstart', start, { passive: false });
            window.addEventListener('touchmove', move, { passive: false });
            window.addEventListener('touchend', end);
        }
        makeDraggable(p1);
        makeDraggable(p2);
        function measure(clickedParticle, otherParticle) {
            if (!isEntangled) return; 
            isEntangled = false; 
            const outcome = Math.random() > 0.5 ? 'UP' : 'DOWN';
            clickedParticle.classList.remove('superposition');
            otherParticle.classList.remove('superposition');
            if (outcome === 'UP') {
                clickedParticle.classList.add('spin-up'); 
                clickedParticle.innerHTML = "↑";
                otherParticle.classList.add('spin-down'); 
                otherParticle.innerHTML = "↓";
            } else {
                clickedParticle.classList.add('spin-down'); 
                clickedParticle.innerHTML = "↓";
                otherParticle.classList.add('spin-up'); 
                otherParticle.innerHTML = "↑";
            }
            statusText.innerHTML = "DURUM: ÇÖKTÜ!<br>Bilgi anında iletildi.";
            statusText.style.color = "#00d2ff";
        }
        let dragDist = 0;
        [p1, p2].forEach(p => {
            p.addEventListener('mousedown', () => dragDist = 0);
            p.addEventListener('touchstart', () => dragDist = 0);
            p.addEventListener('click', (e) => {
                const target = e.target;
                const other = target === p1 ? p2 : p1;
                measure(target, other);
            });
        });
        resetBtn.addEventListener('click', () => {
            isEntangled = true;
            [p1, p2].forEach(p => {
                p.className = 'particle superposition'; 
                p.innerHTML = "?";
            });
            statusText.innerHTML = "DURUM: BELİRSİZ";
            statusText.style.color = "#ff00de";
        });
    </script>
</body>
</html>